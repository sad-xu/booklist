<!DOCTYPE html>
	<html lang=zh>
		<head>
			<meta charset=utf-8>
			<meta content="width=device-width,initial-scale=1"name=viewport>
			<meta content=D3.js,4.0,relationship,关系图 name=keywords>
		</head>
		<body>
			<div class=container>
				<div class=showcase>
					<canvas height="600" width="1300"></canvas>
				</div>
			</div>

			<script src="https://d3js.org/d3.v5.min.js"></script>
			<script src=./relation.js></script>
			<script>
				function initColor(r) {
					r[0].color = "#007FFF", r[1].color = "#A142FF", r[2].color = "#FF85C2", r[3].color = "#FFA142", r[4].color = "#FF4242";
					for (var o = 5; o < r.length; o++) {
						var t = d3.color(r[o % 4 + 1].color);
						r[o].color = t.brighter(1.5).toString()
					}
				}
				function initRadius(r) {
					r[0].radius = 18, r[1].radius = 14, r[2].radius = 14, r[3].radius = 14, r[4].radius = 14;
					for (var o = 5; o < r.length; o++) r[o].radius = 10
				}

				var canvas = document.querySelector("canvas"),
					width = 1300,
					height = 600;
				let data = [{id: "0", name: "Geoff"},
										{id: "4", name: "Geoff"},
										{id: "1", name: "Geoff"},
										{id: "2", name: "Geoff"},
										{id: "3", name: "Geoff"}];
				for (var t = 2, i = [], e = 1; e <= t; e++) {
					i.push({source: 0,target: e});
				} 
				for (var e = t + 1; e < data.length; e++){
					i.push({source: e % t + 1,target: e});
				} 

				initColor(data)
				initRadius(data)
				
				const s = new relation;
				s.setNodes(data)
				s.setLinks(i)
				s.setCanvas(canvas)
				s.setSize(width, height)
				s.setRadius(12)
				s.setLinkLength(90)
				s.setCharge(-60)
				s.init()
				s.run()
			</script>
		</body>